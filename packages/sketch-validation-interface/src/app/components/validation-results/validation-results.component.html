<div class="validation-results">
  <h2 class="headline">Validation Results</h2>

  <mat-accordion>
    <mat-expansion-panel
      *ngFor="let rule of result; let i = index"
      [disabled]="rule.failing.length === 0">
      <mat-expansion-panel-header>
        <mat-panel-title class="panel-title">
          <div class="panel-badges">
            <span
              *ngIf="rule.failing.length > 0"
              class="badge badge--failings">✘ {{ rule.failing.length }}</span>
            <span class="badge">✔︎ {{ rule.succeeding }}</span>
          </div>
          {{ rule.description }}
        </mat-panel-title>
      </mat-expansion-panel-header>

      <cdk-virtual-scroll-viewport
        itemSize="20"
        [ngClass]="{
          'viewport--small': rule.failing.length === 1,
          'viewport--large': rule.failing.length > 10
        }"
        class="scroll-viewport">
        <result-item-failing
          *cdkVirtualFor="let error of rule.failing"
          [error]="error">
        </result-item-failing>
      </cdk-virtual-scroll-viewport>
    </mat-expansion-panel>
  </mat-accordion>
</div>
