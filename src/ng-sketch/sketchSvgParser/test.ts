import { SvgParser } from "./SvgParser";
import { Sketch } from "../sketchJSON/Sketch";
import { Page } from "../sketchJSON/models/Page";
import { SymbolMaster } from "../sketchJSON/models/SymbolMaster";
import { Group } from "../sketchJSON/models/Group";
import { SvgToSketch } from "./SvgToSketch";
import { ShapeGroup } from "./models/ShapeGroup";
import { IBounding } from "../sketchJSON/interfaces/Base";
import { Style } from "../sketchJSON/models/Style";

const curves = `
<svg width="190" height="160" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 10 C 20 20, 40 20, 50 10" stroke="black" fill="transparent"/>
  <path d="M70 10 C 70 20, 120 20, 120 10" stroke="black" fill="transparent"/>
  <path d="M130 10 C 120 20, 180 20, 170 10" stroke="black" fill="transparent"/>
  <path d="M10 60 C 20 80, 40 80, 50 60" stroke="black" fill="transparent"/>
  <path d="M70 60 C 70 80, 110 80, 110 60" stroke="black" fill="transparent"/>
  <path d="M130 60 C 120 80, 180 80, 170 60" stroke="black" fill="transparent"/>
  <path d="M10 110 C 20 140, 40 140, 50 110" stroke="black" fill="transparent"/>
  <path d="M70 110 C 70 140, 110 140, 110 110" stroke="black" fill="transparent"/>
  <path d="M130 110 C 120 140, 180 140, 170 110" stroke="black" fill="transparent"/>
</svg>
`;

const quadratic = `
<svg width="190" height="160" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 80 Q 95 10 180 80" stroke="black" fill="transparent"/>
</svg>
`

const smoothCurve = `
<svg width="190" height="160" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 80 C 40 10, 65 10, 95 80 S 150 150, 180 80" stroke="black" fill="transparent"/>
</svg>`;

const circle = `
<svg version="1.1" id="Work_area" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
  <path d="M256,0 C396.380005,0 512,114.620003 512,256 C512,396.380005 396.380005,512 256,512 C114.620003,512 0,401.880005 0,256 C8.93257405e-15,110.119995 114.620003,1.73140561e-14 256,0 Z" id="SVG"></path>
</svg>`;

const cloud = `
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
<path fill="inherit" d="M403.659,215.39696c0.48169-3.90862,0.72571-7.89008,0.72571-11.92065
  c0-53.04965-43.0014-96.05216-96.05161-96.05216c-42.6745,0-78.84839,27.83537-91.36397,66.33936
  c-10.46376-5.196-22.25253-8.12004-34.73219-8.12004c-42.74756,0-77.47874,34.29636-78.20445,76.87187
  C68.60182,255.90034,44,285.4317,44,319.71881c0,46.86594,45.99474,84.85724,102.73543,84.85724c41.95,0,154.39735,0,199.56718,0
  C413.5159,404.57605,468,359.57025,468,304.06238C468,265.67612,441.94678,232.32281,403.659,215.39696z"></path>
</svg>
`;

const agent = `
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 512 512" fit="" preserveAspectRatio="xMidYMid meet" focusable="false">
<path d="M322.335 242.662c26.203-20.295 43.112-51.977 43.112-87.685C365.447 93.689 315.773 44 254.467 44c-61.278 0-110.98 49.69-110.98 110.977 0 36.319 17.517 68.46 44.476 88.71-26.623 15.071-43.974 41.666-43.974 82.827 0 .78-.272 81.245-.272 81.309 0 27.382 34.132 36.1 80.156 38.362l25.639 18.364 4.825 3.451 4.815-3.451 25.399-18.186c47.953-1.976 83.962-10.412 83.962-38.54v-81.097c0-42.307-18.358-69.185-46.178-84.064zm-67.998 215.15l-28.557-20.436s13.535-104.262 23.004-152.961c0 0-16.859-16.42-16.859-20.622 10.286 5.311 22.412 5.694 22.412 5.694s13.62 0 22.412-5.694c0 3.9-16.891 20.646-16.891 20.646 9.498 48.675 23.031 152.937 23.031 152.937l-28.552 20.435zm43.169-268.578h-8.959c-24.9 0-26.95-31.484-34.152-31.656-7.176.172-9.243 31.656-34.116 31.656h-8.987c-11.205 0-31.81 1.309-31.81-26.79v-7.56c0-5.786 6.007-14.022 13.326-14.022h123.217c7.278 0 15.48 8.236 15.48 14.022v7.56c0 28.099-22.763 26.79-34 26.79z"></path>
</svg>`;

const more = `
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
  <circle fill="inherit" cx="403.99997" cy="256.00006" r="44"></circle>
  <circle fill="inherit" cx="256" cy="256.00006" r="44.00003"></circle>
  <circle fill="inherit" cx="108.00002" cy="256.00006" r="44"></circle>
</svg>`;


const richFace = `
<svg version="1.1" id="Work_area" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
      <path fill="inherit" d="M80.76746,310.17026c0-64.52516,0-122.08247,0-186.60773c0-29.56944,18.27066-57.25075,45.28555-70.37517
      	C135.61296,48.54584,149.54875,44,164.5614,44c57.79745,0,148.21127,0,148.21127,0c26.3194,0,46.71783,6.78161,55.92197,12.03566
      	c30.14862,17.20259,43.91486,44.27522,43.90292,78.69705c-0.02069,58.18234-0.00443,116.36469-0.00879,174.54298
      	c-0.00403,12.05646,6.66574,19.54184,18.64377,21.14026c-5.73032,2.98093-11.46445,6.18515-17.61273,7.90784
      	c-4.61237,1.29578-6.78989,3.70105-8.50418,7.8205c-6.9718,16.76791-18.4899,29.66461-33.8501,39.33652
      	c-15.06201,9.48505-31.66431,13.04556-49.13599,13.11996c-29.68533,0.13266-93.64713,0.21936-96.66954,0.36038
      	c0,6.24771,0.37662,11.97357-0.07097,17.6333c-1.56885,19.65759-7.75842,36.8602-26.90305,46.25409
      	c-2.29144,1.12299-4.70912,1.98599-7.15973,2.78052c-4.85555,1.57428-9.93489,2.35541-15.03925,2.36966
      	c-1.70494,0.00476-3.02408-0.00269-3.24263-0.04099c-17.343-3.00162-26.9734-15.0827-32.38875-30.94415
      	c-4.09877-11.99823-4.56259-24.41049-3.97461-36.85184c0.26518-5.55182-1.63092-8.3548-6.65735-10.71078
      	c-19.97255-9.35693-34.30999-24.46426-42.18036-45.04108C84.50597,335.69473,80.76746,323.02121,80.76746,310.17026z
      	 M192.88046,331.47565c0.07843-0.60818,0.15727-1.21301,0.2361-1.82172c9.49736,0.8241,13.13684-5.83374,16.9458-12.49948
      	c19.28059-33.73431,46.62666-56.88654,85.55357-64.54594c3.85034-0.75757,5.64246-2.30562,4.918-6.22653
      	c-0.6871-3.73062,1.09714-5.68053,4.36392-7.2415c7.04678-3.37813,13.92795-7.125,21.26392-10.92175
      	c-8.01917-13.88643-15.72388-26.97743-23.11417-40.23894c-1.45349-2.60825-2.36438-5.87463-2.40576-8.86002
      	c-0.24005-16.22122,0.13254-32.45486-0.1908-48.67216c-0.68701-34.4505-27.92963-61.40331-62.28947-61.66838
      	c-24.13744-0.1824-48.27879-0.17796-72.41623,0.03745c-32.2439,0.28981-60.09913,28.26083-60.16565,60.51311
      	c-0.13213,60.94392-0.04926,121.88785-0.0537,182.83179c0,16.84232,6.14426,31.25467,17.74081,43.2691
      	c3.55216,3.67694,7.94921,6.54156,11.95683,9.7793c0.47614-0.33957,0.95218-0.67862,1.43277-1.01831
      	c0-65.7717,0-131.53894,0-198.10515c12.64838,0,24.66333-0.21935,36.66154,0.10791c4.69916,0.13213,6.88507-1.34163,8.60725-5.82982
      	c7.46912-19.47964,27.06465-32.23543,48.29161-32.01173c20.94946,0.22328,40.39619,13.44289,47.60802,32.37643
      	c10.34659,27.15146-2.37173,57.14284-28.55072,67.34457c-27.89218,10.87199-57.61938-2.35599-68.3549-30.43895
      	c-1.50282-3.92484-1.81726-9.67583-4.62468-11.38115c-3.36148-2.03711-8.83942-0.3647-13.34779-0.78664
      	c-5.10475-0.47615-6.76082,1.16315-6.74457,6.53319c0.18634,58.36858,0.10347,116.74159,0.10791,175.11412
      	c0,1.90457,0.17796,3.81351,0.28537,6.04474c4.90619,0.40567,9.2243,1.04343,13.54686,1.06412
      	c22.35721,0.10358,44.72269,0.34402,67.07152-0.02905c27.40373-0.45941,46.81737-13.80762,58.30257-38.4335
      	c4.26047-9.12912,5.70508-19.02429,4.70694-29.77646c-3.23328,1.19223-5.75037,2.11594-8.77722,3.2254
      	c-1.13855-4.57935-2.20612-8.87686-3.27075-13.17035c-2.78186,8.72354-6.94269,16.36224-14.84265,21.35123
      	c-7.54312,4.76569-15.7782,7.58884-25.28787,8.98425c1.72218-5.03427,3.20432-9.34857,4.68242-13.66666
      	c-7.1665,6.33008-13.77904,12.87164-19.58716,20.05936c-5.67204,7.01315-12.77696,8.57019-20.66853,6.36752
      	C205.75262,337.25519,199.3969,334.08005,192.88046,331.47565z M387.91302,281.905c0.12427-0.8157,0.32736-1.53189,0.32736-2.24414
      	c-0.00797-50.42776,0.26517-100.85551-0.21097-151.27934c-0.16171-17.35986-7.98273-31.83387-20.75928-43.72861
      	c-19.4299-18.09714-43.1488-16.45733-67.71313-15.48041c1.14249,1.50283,1.75165,2.43433,2.48804,3.25004
      	c11.40628,12.64,19.55859,27.20123,21.20233,44.15147c1.60236,16.46964,1.48605,33.14239,1.46143,49.72398
      	c-0.0123,7.39413,1.52393,13.74098,5.36993,20.10065c10.20569,16.88371,19.86465,34.09468,30.01651,51.65309
      	c-9.19958,4.85251-18.00156,9.49342-27.02719,14.25911c9.94443,4.1358,19.73209,7.33215,28.6463,12.15155
      	C370.78152,269.36847,378.987,275.87259,387.91302,281.905z M298.65448,374.06171c10.83505,0,19.88544,0.38931,28.89041-0.07449
      	c26.90738-1.3909,48.93329-17.68259,56.98608-41.81567c0.52145-1.56137,1.16315-3.97894,0.40558-4.90659
      	c-3.82523-4.70755-8.09851-9.05869-12.21805-13.53406c-0.33121,0.26468-0.66238,0.53378-0.99368,0.79895
      	c1.22141,3.78384,2.44714,7.5722,3.99973,12.37088c-18.70926-4.2023-34.79843-9.66742-39.88251-31.62732
      	c-1.50726,5.90823-2.51324,9.85812-3.57739,14.03137c-2.45502-0.63776-4.47931-1.16315-7.34882-1.90842
      	C325.20959,332.72614,317.30621,354.66916,298.65448,374.06171z M229.5293,148.11403
      	c-17.69499,0.09903-32.10693,14.49915-32.06151,32.03687c0.04138,17.42638,14.63118,32.06201,32.12802,32.23149
      	c17.64563,0.16959,32.38087-14.75584,32.17778-32.59186C261.57062,161.93001,247.40709,148.0145,229.5293,148.11403z
      	 M205.61949,398.41495c-16.75108,0-32.64949,0-49.08614,0c-0.46776,11.86566-0.67076,23.60718,3.82138,34.87244
      	c3.10509,7.80042,8.06943,13.81598,17.02069,14.43707c9.12912,0.6333,16.51497-3.0968,21.73166-10.72714
      	C207.01541,425.42941,205.75656,412.35074,205.61949,398.41495z"></path>
      <path fill-rule="evenodd" clip-rule="evenodd" fill="inherit" d="M360.62115,160.20349
      	c2.98499,0.19855,4.38474,0.19017,5.7421,0.40164c6.85208,1.05969,12.41278,6.5869,12.44135,12.28801
      	c0.0296,6.09843-5.51437,11.84943-12.87164,12.18849c-4.35556,0.19916-9.41449-0.06996-12.99188-2.14009
      	c-3.22934-1.8759-6.6825-6.46707-6.71548-9.89113c-0.02515-3.41568,3.54428-7.46913,6.54156-10.10211
      	C355.03583,160.95258,358.88626,160.75009,360.62115,160.20349z"></path>
      </svg>`;

const sql = `
<svg version="1.1" id="Work_area" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
      <path fill="inherit" d="M299.86856,261.70865c-0.36005-3.49933-0.73553-7.14807-1.10281-11.01932l158.59274-38.30035
      	l-1.05884-1.83279c-0.37756-0.6665-0.88901-1.58116-1.44455-2.46965c-18.99619-30.36195-47.1969-52.62218-86.19696-68.0551
      	c-29.49786-11.67305-62.84247-20.06883-101.92038-25.66194c-7.35779-1.05117-12.98056-3.3709-16.49991-11.27097
      	c-6.91383-15.50552-13.99854-30.62637-21.48425-46.62804c-3.02521-6.44324-6.06674-12.94589-9.13489-19.54764L219.19202,36
      	l-0.94934,0.35912c-3.5378,1.34178-7.2453,2.66607-11.04909,4.02986c-9.08376,3.24666-18.47446,6.60897-27.62672,10.82604
      	c-18.44063,8.48986-34.1559,16.67225-48.04295,25.0122c-4.79305,2.88408-7.1,5.47808-7.47652,8.41318
      	c-0.39285,3.07224,1.35866,6.3277,5.83553,10.89508c6.43613,6.54602,13.16882,12.99754,19.68069,19.23556l3.42726,3.29025
      	c11.08282,10.62595,24.55849,25.39228,30.5148,45.44382c9.39983,31.64381,3.86308,62.45372-16.91121,94.19569
      	c-20.09807,30.69028-46.98204,54.85706-77.48049,81.03568c-10.36562,8.90012-19.06364,18.36801-25.84045,28.13974
      	c-12.77597,18.41916-11.38254,35.758,4.2641,53.00278c12.46703,13.73663,28.53219,24.08896,50.56173,32.5788
      	c38.20722,14.73209,78.07993,19.73129,112.3034,22.70526c5.38336,0.46558,9.6393,0.83694,12.98872,0.83694
      	c11.1944,0,13.27936-4.1741,21.00351-19.69702l0.224-0.43991c27.93472-56.08725,40.43652-114.14435,37.15457-172.56476
      	C301.38071,276.32111,300.64612,269.22403,299.86856,261.70865z M263.31866,433.84579
      	c-2.98117,7.96039-5.34848,13.14325-8.54454,20.10727c-0.94839,2.07678-1.9735,4.31577-3.11833,6.84521
      	c-1.778,3.94803-5.22989,6.30212-9.22078,6.30212l0,0c-0.2486,0-0.49625-0.0087-0.75197-0.02567
      	c-11.88802-0.84604-40.53984-4.43945-61.62099-7.69083L263.31866,433.84579z M130.86716,360.74506l-60.61223,17.67587
      	c12.99691-27.25995,33.44582-42.94034,53.86108-55.66003L130.86716,360.74506z M347.56781,224.54497
      	c19.12503-17.5864,33.27597-36.96725,43.16284-59.11707c20.55124,11.33141,34.92526,22.7437,50.46042,40.09941
      	c-16.45792,2.7986-32.14761,6.2509-47.34933,9.59216C379.01559,218.38364,363.71875,221.74585,347.56781,224.54497z
      	 M301.73972,192.51239l79.61667-28.9086l1.21335,1.53821l-48.43475,62.04349L301.73972,192.51239z M252.00571,267.23325
      	l34.45465-11.27159l2.97397,34.76717L252.00571,267.23325z M287.9816,296.7659l-51.16116,27.66971l7.52867-52.34897
      	L287.9816,296.7659z M258.50006,427.87723l-94.50316,28.00732l31.94301-43.16296L258.50006,427.87723z M283.50369,366.81641
      	l-2.79504,9.56198c-4.33157,14.85645-8.43402,28.89227-12.83328,43.00027c-0.22302,0.70953-2.70901,2.1449-4.52191,2.1362
      	c-21.26018-3.74701-40.27374-9.60046-58.02388-17.8765L283.50369,366.81641z M181.13011,412.48273l-26.34583,41.76544
      	l-3.79352-1.6282c-13.20265-5.66107-36.35964-15.58218-43.1619-19.03452c11.54523-3.23441,23.32879-6.66983,35.76104-10.29709
      	C155.92189,419.69073,168.63751,415.98209,181.13011,412.48273z M175.67004,402.3606l-74.51563,26.28546l-0.99953-1.3074
      	l41.98335-52.37003L175.67004,402.3606z M164.56984,67.03253l51.89577-21.39323l9.14305,31.20748L164.56984,67.03253z
      	 M247.6557,157.84401l-6.90472-35.95034l54.28055,9.90424L247.6557,157.84401z M254.20119,167.23514l50.6313-31.42119
      	l2.06042,1.38463l-19.71442,46.06799L254.20119,167.23514z M217.77303,344.29932l-27.00362,53.63092l-38.12949-31.4213
      	L217.77303,344.29932z M145.00073,351.95999c-5.85292-11.09152-7.41826-22.31598-4.94757-35.15134
      	c0.31616-1.63992,1.80263-3.68298,3.18684-4.37506c7.89597-3.96082,16.0396-7.77631,23.91-11.46341l7.24635-3.40118l0.92273,0.90588
      	L145.00073,351.95999z M191.5899,227.78346l11.41628,6.89183l-21.65303,16.30046L191.5899,227.78346z M237.735,109.48185
      	c-4.00734-0.60719-7.61354-1.14944-11.21985-1.71767c-3.71786-0.58112-7.42747-1.1837-11.60463-1.86308l-3.55507-0.57693
      	l20.37221-14.64669l10.24588,19.44938L237.735,109.48185z M232.88979,214.90974l12.35556-34.1344l26.25175,12.96327
      	L232.88979,214.90974z M161.65517,351.30219l27.61951-57.20642l27.78943,37.82965L161.65517,351.30219z M213.22659,246.22461
      	c0.62302,0.77293,1.33308,1.64465,1.90593,2.57199c4.08412,6.63968,6.26326,11.04907,5.30669,13.94177
      	c-0.94841,2.85388-5.00792,4.93884-12.17758,7.79318c-9.51033,3.79404-19.14964,7.79782-28.47372,11.66907
      	c-2.44315,1.0123-4.87801,2.02924-7.33131,3.04153L213.22659,246.22461z M227.77963,173.30701l-32.10361,29.18233v-38.75302
      	L227.77963,173.30701z M233.55586,184.51418l-17.791,41.27379l-17.39825-13.04395l33.77948-29.04164L233.55586,184.51418z
      	 M197.54611,149.81552l33.86539-28.60532l2.03383,0.63223l4.09325,39.48814L197.54611,149.81552z M223.54926,323.82022
      	l-26.67015-35.74521l37.21585-14.53973l-7.91336,49.6015L223.54926,323.82022z M267.89999,209.06909l1.0343,1.1024
      	l-39.57404,50.47728l-6.99879-26.28546L267.89999,209.06909z M189.83839,100.6887
      	c-6.9814-6.96915-13.45943-14.16426-19.73181-21.11549c-1.25525-1.4016-2.50337-2.78173-3.71672-4.12749l58.32057,10.74569
      	c-1.8701,1.07674-3.72395,2.15767-5.56137,3.2298c-7.31485,4.2641-14.22868,8.28934-21.46582,11.934
      	c-0.74275,0.37599-1.9142,0.58928-3.20528,0.58928C192.48813,101.94447,190.58116,101.4278,189.83839,100.6887z M133.61002,87.40475
      	c-0.25687-2.08915,8.68169-7.45147,14.03122-10.65623c1.74333-1.04657,3.46918-2.08088,5.03348-3.06354
      	c3.9736,4.96485,7.60547,9.5027,11.11655,13.89471l8.96506,11.20759l-0.16258,0.2906
      	c-11.88696-2.83694-23.48332-6.16144-37.49725-10.7504C134.03661,88.00733,133.63557,87.64413,133.61002,87.40475z
      	 M177.1739,131.09706c-8.9722-10.77534-17.70604-20.25603-26.03793-28.26819
      	C171.85915,108.12729,174.24289,111.79299,177.1739,131.09706z M221.89194,119.05672l-31.69441,23.04699l-11.45116-31.24226
      	L221.89194,119.05672z M157.08412,286.12247c9.28018-15.91577,24.37955-25.54626,39.02771-34.89047l0.05824-0.03835l0.5126,0.59798
      	L157.08412,286.12247z M281.3327,361.16757l-71.87407,29.21658l21.71349-49.40054L281.3327,361.16757z M323.92273,230.88126
      	l-79.91534,25.51212l45.42694-52.17819L323.92273,230.88126z M302.0477,179.69043l12.58572-43.65398l60.87823,20.61569
      	l-0.13715,0.30736L302.0477,179.69043z M132.00276,370.88815L95.48766,422.6821
      	c-12.50893-7.13174-23.64391-23.86801-24.94222-37.48029L132.00276,370.88815z M289.91321,303.49557l-4.18744,53.36954
      	l-47.39227-22.36719L289.91321,303.49557z"></path>
      </svg>`;

// Test drawing svgs

const size: IBounding = {width: 512, height: 512, x: 0, y: 0};
const shapeGroup = new ShapeGroup(size);
const style = new Style()
const svgObject = SvgParser.parse(more, size.width, size.height);
shapeGroup.layers = new SvgToSketch(svgObject).generateObject();
shapeGroup.name = 'SVG';
style.addColorFill('#ff00fa');
shapeGroup.style = style.generateObject();

// write test svg
const sketch = new Sketch();
const pageSize: IBounding = { height: 512, width: 512, x: 0, y: 0};
const page = new Page(pageSize);
page.name = 'SVG Symbol Test Page';
const symbolMaster = new SymbolMaster(pageSize);
const group = new Group(pageSize);
group.name = 'Agent SVG'

group.addLayer(shapeGroup.generateObject());
symbolMaster.addLayer(group.generateObject());
page.addLayer(symbolMaster.generateObject());

sketch.write([page]);

